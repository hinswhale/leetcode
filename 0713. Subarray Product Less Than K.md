* 0713. Subarray Product Less Than K.md
* 难度：Medium
* 相关知识点:Array | Sliding Window
* 题目链接：[https://leetcode.com/problems/subarray-product-less-than-k/description/]

```Given an array of integers nums and an integer k, return the number of contiguous subarrays where the product of all the elements in the subarray is strictly less than k.

 

Example 1:

Input: nums = [10,5,2,6], k = 100
Output: 8
Explanation: The 8 subarrays that have product less than 100 are:
[10], [5], [2], [6], [10, 5], [5, 2], [2, 6], [5, 2, 6]
Note that [10, 5, 2] is not included as the product of 100 is not strictly less than k.
Example 2:

Input: nums = [1,2,3], k = 0
Output: 0
 

Constraints:

1 <= nums.length <= 3 * 104
1 <= nums[i] <= 1000
0 <= k <= 106```

```python
class Solution:
    def numSubarrayProductLessThanK(self, nums: List[int], k: int) -> int:
        ans = 0
        product = 1
        left = 0
        right = 0
        if k <= 1 : return 0

        for right in range(len(nums)):
            product *= nums[right]
            
            while left <= right and product >= k:
                product /= nums[left]
                left += 1
            ans += (right - left + 1)
        return ans
            
```

"""
[left, right]子数组 共有 right - left + 1 种
举个例子吧；
窗口左边界：l,窗口右边界：r
k=100
位置i：    0,  1, 2, 3
数组nums： 10, 5, 2, 6
窗口1(r=2)：   l, r   
窗口1(r=3):    l,    r

窗口1中符合的有[5],[2],[5,2]
窗口2中符合的有[5],[2],[5,2],[6],[2,6],[5,2,6]
可以看出，
窗口2对比窗口1多出来的数组都是由于窗口右滑一次所带来的，即多出来的那几个必然是包含新窗口的边界r的

因此可以得出，最终答案可以是每次窗口最大长度的累加。

作者：piwoyixia
链接：https://leetcode.cn/problems/subarray-product-less-than-k/solutions/1373555/hua-dong-chuang-kou-by-fenjue-xvg5/
来源：力扣（LeetCode）
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

"""
